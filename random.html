<html>
<head>
	<title>Random Quote Machine</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	<style type="text/css">

		#main-conainer{
			margin:20% 25% 20% 25%;
			width: 50%;
		}


	</style>

</head>
<body>

	<div id="main-conainer" class="container-fluid">
		<div id="text">
		</div>
		<div class="row">
			<div class="col-md-6">
				<button id="random-button" class="btn btn-primary">
					Generate random quote
				</button>
			</div>
			<div class="col-md-6">
				<button id="twitter-button" class="btn btn-primary twitter-share-button">
					Twittear
				</button>
			</div>
		</div>
	</div>

</body>

<script type="text/javascript">

	$(document).ready(function() {

	    $("#random-button").on("click",function(){
		    $.getJSON("http://quotes.stormconsultancy.co.uk/quotes/random.json?callback=?",function(json) {
		    	var keys = Object.getOwnPropertyNames(json).reverse();
				var html = "<div>";
				keys.forEach(function(key) {
					if (key !== "id" && key !== "permalink")
						html += "<div id=" + "'#"  + key + "' >" + json[key] + "</div>" + "<br>";
						//html += "<strong>" + key + "</strong>: " + json[key] + "<br>";
				});
				html += "</div><br>";
				$("#text").html(html);
			});
		});

		$("#twitter-button").on("click",function(){
			var textToTweet = $("#text").html();
			var twtLink = "https://twitter.com/intent/tweet?text=" +encodeURIComponent(textToTweet);
			window.open(twtLink,'_blank');
		});
	});


</script>


</html>